"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[522],{3905:(e,t,o)=>{o.d(t,{Zo:()=>c,kt:()=>h});var r=o(7294);function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function a(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function s(e,t){if(null==e)return{};var o,r,n=function(e,t){if(null==e)return{};var o,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)o=i[r],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)o=i[r],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var l=r.createContext({}),p=function(e){var t=r.useContext(l),o=t;return e&&(o="function"==typeof e?e(t):a(a({},t),e)),o},c=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var o=e.components,n=e.mdxType,i=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=p(o),h=n,b=u["".concat(l,".").concat(h)]||u[h]||d[h]||i;return o?r.createElement(b,a(a({ref:t},c),{},{components:o})):r.createElement(b,a({ref:t},c))}));function h(e,t){var o=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=o.length,a=new Array(i);a[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:n,a[1]=s;for(var p=2;p<i;p++)a[p]=o[p];return r.createElement.apply(null,a)}return r.createElement.apply(null,o)}u.displayName="MDXCreateElement"},2732:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>p,toc:()=>d});var r=o(7462),n=(o(7294),o(3905)),i=o(941),a=o(4996);const s={title:"Job Creation",slug:"/developers/job-creation"},l=void 0,p={unversionedId:"developers/job-creation",id:"developers/job-creation",title:"Job Creation",description:"Use the Acurast Console to specify a job and post it on Acurast to be executed by Processors.",source:"@site/docs/developers/job-creation.mdx",sourceDirName:"developers",slug:"/developers/job-creation",permalink:"/developers/job-creation",draft:!1,editUrl:"https://github.com/acurast/acurast-docs/docs/developers/job-creation.mdx",tags:[],version:"current",frontMatter:{title:"Job Creation",slug:"/developers/job-creation"},sidebar:"docs",previous:{title:"Get Started",permalink:"/developers/get-started"},next:{title:"Job Runtime Environment",permalink:"/developers/job-runtime-environment"}},c={},d=[{value:"Protocol and Templates Selection",id:"protocol-and-templates-selection",level:3},{value:"Job Script",id:"job-script",level:3},{value:"Job Schedule",id:"job-schedule",level:3},{value:"Job Environment Variables",id:"job-environment-variables",level:2},{value:"Job Reward and Publish",id:"job-reward-and-publish",level:3},{value:"Job Creation Progress",id:"job-creation-progress",level:3}],u={toc:d};function h(e){let{components:t,...o}=e;return(0,n.kt)("wrapper",(0,r.Z)({},u,o,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Use the ",(0,n.kt)("a",{parentName:"p",href:"https://console.acurast.com"},"Acurast Console")," to specify a job and post it on Acurast to be executed by Processors."),(0,n.kt)("h3",{id:"protocol-and-templates-selection"},"Protocol and Templates Selection"),(0,n.kt)(i.Z,{width:"640px",sources:{light:(0,a.Z)("/img/protocol-template-select.png"),dark:(0,a.Z)("/img/protocol-template-select.png")},mdxType:"ThemedImage"}),(0,n.kt)("p",null,"Select the protocol / chain the job should fulfill on and select a job template as a starting point. Alternatively it is possible to just start with a blank template."),(0,n.kt)("h3",{id:"job-script"},"Job Script"),(0,n.kt)(i.Z,{width:"640px",sources:{light:(0,a.Z)("/img/job-script.png"),dark:(0,a.Z)("/img/job-script.png")},mdxType:"ThemedImage"}),(0,n.kt)("p",null,"Adapt the job script so that it performs the task you need. The above images show the template for publishing a price on Ethereum."),(0,n.kt)("h3",{id:"job-schedule"},"Job Schedule"),(0,n.kt)(i.Z,{width:"640px",sources:{light:(0,a.Z)("/img/job-schedule.png"),dark:(0,a.Z)("/img/job-schedule.png")},mdxType:"ThemedImage"}),(0,n.kt)("p",null,"Specify if the job should be matched to the available public processors or if it should run on a specific ones."),(0,n.kt)("p",null,"Additionally, specify start and end times for the job, the execution interval and the duration."),(0,n.kt)("p",null,"It is recommended to not have a start time sooner than 10 minutes from the present."),(0,n.kt)("h2",{id:"job-environment-variables"},"Job Environment Variables"),(0,n.kt)(i.Z,{width:"640px",sources:{light:(0,a.Z)("/img/job-env-variables.png"),dark:(0,a.Z)("/img/job-env-variables.png")},mdxType:"ThemedImage"}),(0,n.kt)("p",null,"It is possible to specify environment variables that the script can access at runtime. This is useful when the script needs to use data that should be secret, for example an API key allowing permissioned access to the API."),(0,n.kt)("p",null,"If an environment variable is specified like in pictured above, it will be accessible from the script with:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},'const myApiKey = _STD_.env["MY_API_KEY"];\n')),(0,n.kt)("admonition",{type:"info"},(0,n.kt)("p",{parentName:"admonition"},"The environment variables will be encrypted and only the Processor assigned to the job will be able to use them. Not even the owner of the device will be able to access this variable as it can only be encrypted within the Trusted Execution Environment of the devices.")),(0,n.kt)("p",null,"Using environment variables will require a processor with the ",(0,n.kt)("inlineCode",{parentName:"p"},"DataEncryption")," module enabled which wille be activated automatically in your job when adding one or more environment variables."),(0,n.kt)(i.Z,{width:"640px",sources:{light:(0,a.Z)("/img/job-required-modules.png"),dark:(0,a.Z)("/img/job-required-modules.png")},mdxType:"ThemedImage"}),(0,n.kt)("h3",{id:"job-reward-and-publish"},"Job Reward and Publish"),(0,n.kt)(i.Z,{width:"640px",sources:{light:(0,a.Z)("/img/job-reward.png"),dark:(0,a.Z)("/img/job-reward.png")},mdxType:"ThemedImage"}),(0,n.kt)("p",null,"Specify the number of processors that should be assigned to run the job, the minimum reputation each processor needs to have and the reward per job execution, then publish the job."),(0,n.kt)("h3",{id:"job-creation-progress"},"Job Creation Progress"),(0,n.kt)(i.Z,{width:"640px",sources:{light:(0,a.Z)("/img/job-creation.png"),dark:(0,a.Z)("/img/job-creation.png")},mdxType:"ThemedImage"}),(0,n.kt)("p",null,"After publishing the job, a job creation progress screen is displayed, showing the various initial stage of the job creation:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Job is registered on chain"),(0,n.kt)("li",{parentName:"ul"},"Job is matched to one or more processors"),(0,n.kt)("li",{parentName:"ul"},"Job is acknowledged by the matched processors",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"At this point, if environment variables were specified, then the ",(0,n.kt)("inlineCode",{parentName:"li"},"Set")," or ",(0,n.kt)("inlineCode",{parentName:"li"},"Set All")," buttons should be pressed to encrypt and publish those variables on chain.")))),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"Go to Job")," will open the job details page where all the job's details are displayed and the environment variables can be updated."),(0,n.kt)(i.Z,{width:"640px",sources:{light:(0,a.Z)("/img/job-details.png"),dark:(0,a.Z)("/img/job-details.png")},mdxType:"ThemedImage"}),(0,n.kt)("p",null,"In the ",(0,n.kt)("inlineCode",{parentName:"p"},"Assigned Processors")," section, the list of assigned processors is displayed."),(0,n.kt)("p",null,"Each processor will use a dedicated account for the user creating the job, thus here you can see the various addresses the processor will use when interacting with the various chains (selected from the drop down menus)."),(0,n.kt)("p",null,"If you see the ",(0,n.kt)("inlineCode",{parentName:"p"},"Transaction Fees Required")," warning, it means that the chain has a ",(0,n.kt)("a",{parentName:"p",href:"/integrations/introduction#integration-levels"},"Level 1")," integration with Acurast and the user is responsible for those accounts to have enough balance to pay for the transaction fees."))}h.isMDXComponent=!0}}]);